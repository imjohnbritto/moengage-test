{"version":3,"sources":["containers/withAppDataContainerHOC/index.tsx","components/ProgressBar/Progressbar.tsx","components/Widgets/StatsWidget.tsx","components/Widgets/ChartWidget.tsx","components/Section/index.config.tsx","components/Section/index.tsx","components/pages/Overview/index.tsx"],"names":["withAppDataContainerHOC","services","WrappedComponent","state","data","result","callArray","Array","isArray","map","request","push","fetch","uri","mode","then","res","json","Promise","all","dataResponse","forEach","response","index","requestID","setState","socketIOClient","path","transports","on","setResponse","console","log","JSON","parse","this","Component","Progressbar","props","fillerStyles","height","width","completed","backgroundColor","borderRadius","textAlign","className","title","style","StatsWidget","ATTRIBUTE_1","label","value","ATTRIBUTE_2","ATTRIBUTE_3","href","apiURL","target","rel","ChartWidget","filter","dataSet","header","item","color","sortOrder","Section","useState","sortData","setSortData","isExpanded","setExpand","useEffect","sortTable","key","sortItems","sort","a","b","A","B","localeCompare","indexOf","name","onChange","e","defaultValue","onClick","handleExpandSection","stats","url","servicesArr","currentData","setCurrentData","length","setExpandSection","expand","expandSection","sectionData"],"mappings":"kQA0DeA,EApDiB,SAAC,GAAD,IAAGC,EAAH,EAAGA,SAAH,OAAuB,SAACC,GAiDpD,OAjD8E,4MAI1EC,MAAQ,CACJC,KAAM,IALgE,EAO1EC,OAAc,GAP4D,uDAS1E,WAAqB,IAAD,OACZC,EAAiB,GACjBC,MAAMC,QAAQP,IACdA,EAASQ,KAAI,SAACC,GACVJ,EAAUK,KAAKC,MAAM,GAAD,OAfzB,uBAeyB,OAAaF,EAAQG,KAAO,CAAEC,KAAM,SAAUC,MAAK,SAACC,GAAD,OAASA,EAAIC,cAI5FC,QAAQC,IAAIb,GAAWS,MAAK,SAACK,GACzBA,EAAaC,SAAQ,SAACC,EAAeC,GACjC,EAAKlB,OAAOM,KAAK,CACbP,KAAMkB,EACNE,UAAWvB,EAASsB,GAAOC,YAE/B,EAAKC,SAAS,CAACrB,KAAM,EAAKC,eAKnBqB,IAAe,qBAAsB,CAACC,KAAM,uBAAwBC,WAAY,CAAC,aAEzFC,GAAG,OAAO,SAACzB,GAAD,OAAe,EAAK0B,YAAY1B,QA9BqB,yBAkC1E,SAAYA,GACR2B,QAAQC,IAAI5B,KAnC0D,wBAsC1E,SAAWA,GACP,IAAIC,EAAS4B,KAAKC,MAAM9B,GAAO2B,QAAQC,IAAI3B,KAvC2B,oBA0C1E,WACI,OACI,cAACH,EAAD,eAAsBiC,KAAKhC,YA5CuC,GAExCiC,e,OCyB3BC,MA9Bf,SAAqBC,GACjB,IAOQC,EAAoB,CACxBC,OAAQ,OACRC,MAAM,GAAD,OAAKH,EAAMI,UAAX,KACLC,gBAAiB,UACjBC,aAAc,UACdC,UAAW,SAGb,OACG,sBAAKC,UAAU,sBAAf,UACG,sBAAKA,UAAU,oBAAf,UAAmC,4BAAIR,EAAMS,QAAU,8BAAIT,EAAMI,UAAV,UAC3D,qBAAKM,MAlBe,CACpBR,OAAQ,EACRC,MAAO,OACPE,gBAAiB,UACjBC,aAAc,IAcd,SAEE,qBAAKI,MAAOT,UCNPU,MAff,SAAqBX,GAAa,IAAD,wBAC7B,OACI,sBAAKQ,UAAU,sBAAf,UACI,uCACA,cAAC,EAAD,CAAaC,MAAK,OAAET,QAAF,IAAEA,GAAF,UAAEA,EAAOlC,YAAT,iBAAE,EAAa8C,mBAAf,aAAE,EAA0BC,MAAOT,UAAS,OAAEJ,QAAF,IAAEA,GAAF,UAAEA,EAAOlC,YAAT,iBAAE,EAAa8C,mBAAf,aAAE,EAA0BE,QAC1F,cAAC,EAAD,CAAaL,MAAK,OAAET,QAAF,IAAEA,GAAF,UAAEA,EAAOlC,YAAT,iBAAE,EAAaiD,mBAAf,aAAE,EAA0BF,MAAOT,UAAS,OAAEJ,QAAF,IAAEA,GAAF,UAAEA,EAAOlC,YAAT,iBAAE,EAAaiD,mBAAf,aAAE,EAA0BD,QAC1F,cAAC,EAAD,CAAaL,MAAK,OAAET,QAAF,IAAEA,GAAF,UAAEA,EAAOlC,YAAT,iBAAE,EAAakD,mBAAf,aAAE,EAA0BH,MAAOT,UAAS,OAAEJ,QAAF,IAAEA,GAAF,UAAEA,EAAOlC,YAAT,iBAAE,EAAakD,mBAAf,aAAE,EAA0BF,QAC1F,qBAAKN,UAAU,sBAAf,SACA,oBAAGS,KAAMjB,EAAMkB,OAAQC,OAAO,SAASC,IAAI,aAA3C,UAAwD,4CAAqB,sBAAMZ,UAAU,qCCuB1Fa,MAjCf,SAAqBrB,GAAa,IAAD,YAC7B,OACI,sBAAKQ,UAAU,sBAAf,UACI,sBAAKA,UAAU,qBAAf,UACI,oBAAGA,UAAU,gCAAb,iBAA8CR,QAA9C,IAA8CA,GAA9C,UAA8CA,EAAOlC,YAArD,iBAA8C,EAAawD,cAA3D,aAA8C,EAAqBT,MAAnE,OACA,oBAAGL,UAAU,iCAAb,iBAA+CR,QAA/C,IAA+CA,GAA/C,UAA+CA,EAAOlC,YAAtD,iBAA+C,EAAawD,cAA5D,aAA+C,EAAqBR,MAApE,UAEJ,qBAAKN,UAAU,oBAAf,SACI,kCAEI,gCACI,oCACKR,QADL,IACKA,GADL,UACKA,EAAOlC,YADZ,aACK,EAAayD,QAAQC,OAAOrD,KAAI,SAACsD,EAAWxC,GACzC,OAAQ,mCAA0BwC,IAAjB,SAASA,UAKtC,uCAEKzB,QAFL,IAEKA,GAFL,UAEKA,EAAOlC,YAFZ,aAEK,EAAayD,QAAQzD,KAAKK,KAAI,SAACsD,GAC5B,OAAQ,qBAAIf,MAAO,CAAEgB,MAAOD,EAAKC,OAAzB,UAA2D,mCAAMD,EAAKZ,SAAW,mCAAOY,EAAKX,WAAtD,QAAQW,EAAKZ,qBCtB3Ec,G,OAAiB,CAC1B,QAAW,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OACtD,MAAS,CAAC,UAAW,WAAY,QAAS,QAAS,MAAO,OAAQ,OAAQ,SAAU,YAAa,UAAW,WAAY,cCgE7GC,MA5Df,SAAiB5B,GAAa,IAClBlC,EAASkC,EAAMlC,KAAfA,KADiB,EAEO+D,mBAAS/D,GAFhB,mBAElBgE,EAFkB,KAERC,EAFQ,OAGOF,oBAAS,GAHhB,mBAGlBG,EAHkB,KAGNC,EAHM,KAKzBC,qBAAU,WACNC,EAAU,WACX,IAEH,IAAMA,EAAY,SAACC,GACf,IAAIC,EAAS,OAAGP,QAAH,IAAGA,OAAH,EAAGA,EAAUP,QAAQzD,KACvB,UAARsE,EACCC,EAAUC,MAAK,SAACC,EAAQC,GAGpB,OAFUD,EAAEH,GACFI,EAAEJ,MAIhBC,EAAUC,MAAK,SAACC,EAAQC,GACpB,IAAMC,EAAIF,EAAEH,GACNM,EAAIF,EAAEJ,GACZ,MAAuC,aAAxB,OAARN,QAAQ,IAARA,OAAA,EAAAA,EAAUP,QAAQC,OAAO,IAAmBiB,EAAEE,cAAcD,EAAEC,eACrEhB,EAAS,OAACG,QAAD,IAACA,OAAD,EAACA,EAAUP,QAAQC,OAAO,IAAIoB,QAAQH,GAAKd,EAAS,OAACG,QAAD,IAACA,OAAD,EAACA,EAAUP,QAAQC,OAAO,IAAIoB,QAAQF,GAAK,GAAK,KAGrHX,EAAY,2BACLD,GADI,IAEPP,QAAQ,2BAAD,OACAO,QADA,IACAA,OADA,EACAA,EAAUP,SADV,IAEHzD,KAAMuE,QAUlB,OACI,sBAAK7B,UAAWwB,EAAa,qBAAuB,iBAApD,UACI,mCACI,oCAAKhC,QAAL,IAAKA,OAAL,EAAKA,EAAOS,QACZ,yBAAQoC,KAAK,cAAcC,SAAU,SAACC,GAAD,OAAOZ,EAAUY,EAAE5B,OAAOL,QAAQkC,aAAa,gBAAgBxC,UAAU,cAA9G,UACI,wBAAQM,MAAM,QAAd,2BACA,wBAAQA,MAAM,QAAd,8BAGJ,qBAAKmC,QAAS,kBAdJxC,EAcsB,OAACT,QAAD,IAACA,OAAD,EAACA,EAAOS,MAbhDwB,GAAWD,QACXhC,EAAMkD,oBAAoBzC,GAAQuB,GAFjB,IAACvB,GAcV,SACI,mBAAGD,UAAWwB,EAAa,cAAgB,0BAGnD,sBAAKxB,UAAU,cAAf,UACI,cAAC,EAAD,CAAa1C,KAAI,OAAEgE,QAAF,IAAEA,OAAF,EAAEA,EAAUqB,MAAOjC,OAAQY,EAASsB,MACrD,cAAC,EAAD,CAAatF,KAAMgE,WChBpBpE,YAAwB,CAAEC,SAAU0F,KAApC3F,EAtC2C,SAAC,GAAc,IAAZI,EAAW,EAAXA,KAAW,EAE9B+D,mBAAS,IAFqB,mBAE7DyB,EAF6D,KAEhDC,EAFgD,OAGpC1B,oBAAS,GAH2B,mBAG7DG,EAH6D,KAGjDC,EAHiD,KAKpEC,qBAAU,WACFmB,IAAYG,SAAWF,EAAYE,QAAWxB,GAC9CuB,EAAezF,MAIvB,IAAM2F,EAAmB,SAAChD,EAAeiD,GACrC,GAAGA,EAAQ,CACP,IAAMC,EAAgBL,EAAYhC,QAAO,SAACsC,GACtC,OAAOA,EAAY1E,YAAcuB,KAErC8C,EAAeI,QAEfJ,EAAezF,GAGnBmE,EAAUyB,IAGd,OACI,mCACIJ,EAAYnF,KAAI,SAACyF,GACd,OAAO,cAAC,EAAD,CAEMnD,MAAOmD,EAAY1E,UACnBpB,KAAM8F,EAAY9F,KAClBoF,oBAAqBO,GAHhBG,EAAY1E","file":"static/js/4.7ba2ea68.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport socketIOClient from \"socket.io-client\";\r\nimport { IServices } from \"../../components/pages/Overview/index.types\";\r\n\r\nconst apiURL = \"http://13.232.99.42\";\r\n\r\nconst withAppDataContainerHOC = ({ services }: any) => (WrappedComponent: any) => {\r\n\r\n    class withAppDataContainerHOC extends Component<any, {}> {\r\n\r\n        state = {\r\n            data: []\r\n        }\r\n        result: any = []\r\n\r\n        componentDidMount() {\r\n            let callArray: any = []\r\n            if (Array.isArray(services)) {\r\n                services.map((request: IServices) => {\r\n                    callArray.push(fetch(`${apiURL}${request.uri}`, { mode: 'cors' }).then((res) => res.json()));\r\n                })\r\n            }\r\n\r\n            Promise.all(callArray).then((dataResponse) => {\r\n                dataResponse.forEach((response: any, index: number) => {\r\n                    this.result.push({\r\n                        data: response,\r\n                        requestID: services[index].requestID\r\n                    });\r\n                    this.setState({data: this.result})\r\n                })\r\n            });\r\n\r\n\r\n            const socket = socketIOClient(\"wss://13.232.99.42\", {path: \"/js/socket.io.min.js\", transports: ['polling']});\r\n\r\n            socket.on(\"ALL\", (data: any) => this.setResponse(data));\r\n        }\r\n\r\n        /**Since WSS is not connecting as expected data retrieval from Web socket is still pending. */\r\n        setResponse(data: any) {\r\n            console.log(data);\r\n        }\r\n\r\n        handleData(data: any) {\r\n            let result = JSON.parse(data); console.log(result)\r\n        }\r\n\r\n        render() {\r\n            return (\r\n                <WrappedComponent {...this.state} />\r\n            )\r\n        }\r\n    }\r\n\r\n    return withAppDataContainerHOC;\r\n};\r\n\r\nexport default withAppDataContainerHOC as any;","import React from 'react';\r\nimport './Progressbar.scss'\r\n\r\nfunction Progressbar(props: any) {\r\n    const containerStyles = {\r\n        height: 5,\r\n        width: '100%',\r\n        backgroundColor: \"#0f3d77\",\r\n        borderRadius: 50,\r\n      }\r\n    \r\n      const fillerStyles: any = {\r\n        height: '100%',\r\n        width: `${props.completed}%`,\r\n        backgroundColor: \"#45b0e6\",\r\n        borderRadius: 'inherit',\r\n        textAlign: 'right'\r\n      }\r\n    \r\n      return (\r\n         <div className=\"Progressbar-wrapper\"> \r\n            <div className=\"Progressbar-title\"><p>{props.title}</p><p>{props.completed}%</p></div>\r\n        <div style={containerStyles}>\r\n         \r\n          <div style={fillerStyles}>\r\n          </div>\r\n        </div>\r\n        </div>\r\n       \r\n      );\r\n    };\r\n\r\n\r\nexport default Progressbar;","import React from 'react';\r\nimport Progressbar from '../ProgressBar/Progressbar';\r\n\r\nfunction StatsWidget(props: any) {\r\n    return (\r\n        <div className=\"StatsWidget-wrapper\">\r\n            <h3>Stats</h3>\r\n            <Progressbar title={props?.data?.ATTRIBUTE_1?.label} completed={props?.data?.ATTRIBUTE_1?.value} />\r\n            <Progressbar title={props?.data?.ATTRIBUTE_2?.label} completed={props?.data?.ATTRIBUTE_2?.value} />\r\n            <Progressbar title={props?.data?.ATTRIBUTE_3?.label} completed={props?.data?.ATTRIBUTE_3?.value} />\r\n            <div className=\"StatsWidget-viewURL\">\r\n            <a href={props.apiURL} target=\"_blank\" rel=\"noreferrer\"><span>View API</span><span className=\"fa fa-arrow-right fa-lg\"></span></a>\r\n        </div>\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default StatsWidget;","import React from 'react';\r\nfunction ChartWidget(props: any) {\r\n    return (\r\n        <div className=\"ChartWidget-wrapper\">\r\n            <div className=\"ChartWidget-header\">\r\n                <p className=\"ChartWidget-header-title blue\">{props?.data?.filter?.label} </p>\r\n                <p className=\"ChartWidget-header-title green\">{props?.data?.filter?.value}%</p>\r\n            </div>\r\n            <div className=\"ChartWidget-table\">\r\n                <table>\r\n\r\n                    <thead>\r\n                        <tr>\r\n                            {props?.data?.dataSet.header.map((item: any ,index: number)=> {\r\n                                return (<th key={\"header\"+item}> {item}</th>)\r\n                            })}\r\n\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n\r\n                        {props?.data?.dataSet.data.map((item: any) => {\r\n                            return (<tr style={{ color: item.color }} key={\"tbody\"+item.label}><td> {item.label}</td><td > {item.value}</td></tr>)\r\n                        })}\r\n                    </tbody>\r\n\r\n                </table>\r\n            </div>\r\n\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ChartWidget;","export const sortOrder: any = {\r\n    \"WeekDay\": [\"SUN\", \"MON\", \"TUE\", \"WED\", \"THU\", \"FRI\", \"SAT\"],\r\n    \"Month\": [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"]\r\n}","import React, { useState, useEffect } from 'react';\r\nimport StatsWidget from '../Widgets/StatsWidget';\r\nimport ChartWidget from '../Widgets/ChartWidget';\r\nimport '../Widgets/Widget.scss';\r\nimport {sortOrder} from \"./index.config\";\r\n\r\nfunction Section(props: any) {\r\n    const { data } = props.data;\r\n    const [sortData, setSortData] = useState(data);\r\n    const [isExpanded, setExpand] = useState(false);\r\n\r\n    useEffect(() => {\r\n        sortTable(\"label\");\r\n    }, [])\r\n\r\n    const sortTable = (key: any) => {\r\n        let sortItems = sortData?.dataSet.data;\r\n        if(key === \"value\") {\r\n            sortItems.sort((a: any, b: any) => {\r\n                const A = a[key];\r\n                const B = b[key];\r\n                return A - B;\r\n            });\r\n        } else {\r\n            sortItems.sort((a: any, b: any) => {\r\n                const A = a[key];\r\n                const B = b[key];\r\n                return sortData?.dataSet.header[0] === \"Country\" ? A.localeCompare(B.localeCompare) :\r\n                sortOrder[sortData?.dataSet.header[0]].indexOf(A) > sortOrder[sortData?.dataSet.header[0]].indexOf(B) ? 1 : -1;\r\n            });\r\n        }\r\n        setSortData({\r\n            ...sortData,\r\n            dataSet: {\r\n                ...sortData?.dataSet,\r\n                data: sortItems\r\n            }\r\n        })\r\n    };\r\n\r\n    const expandWidget = (title: string) => {\r\n        setExpand(!isExpanded);\r\n        props.handleExpandSection(title, !isExpanded)\r\n    }\r\n\r\n    return (\r\n        <div className={isExpanded ? \"Widget-wrapper max\" : \"Widget-wrapper\"}>\r\n            <header>\r\n                <h3>{props?.title}</h3>\r\n                <select name=\"sort-option\" onChange={(e) => sortTable(e.target.value)} defaultValue=\"Sort by Label\" className=\"Widget-sort\">\r\n                    <option value=\"label\">Sort by Label</option>\r\n                    <option value=\"value\">Sort by Value</option>\r\n                </select>\r\n\r\n                <div onClick={() => expandWidget(props?.title)}>\r\n                    <i className={isExpanded ? \"fa fa-minus\" : \"fa fa-arrows-alt\"}></i>\r\n                </div>\r\n            </header>\r\n            <div className=\"Widget-menu\">\r\n                <StatsWidget data={sortData?.stats} apiURL={sortData.url} />\r\n                <ChartWidget data={sortData} />\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Section;","import React, { useEffect, useState } from \"react\";\r\nimport { IOverviewProps } from \"./index.types\";\r\nimport { servicesArr } from \"./index.config\";\r\nimport withAppDataContainerHOC from \"../../../containers/withAppDataContainerHOC\";\r\nimport Section from \"../../Section\";\r\n\r\nconst Overview: React.FunctionComponent<IOverviewProps> = ({ data }) => {\r\n\r\n    const [currentData, setCurrentData] = useState([]);\r\n    const [isExpanded, setExpand] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (servicesArr.length !== currentData.length && !isExpanded) {\r\n            setCurrentData(data);\r\n        }\r\n    });\r\n\r\n    const setExpandSection = (title: string, expand: boolean) => {\r\n        if(expand) {\r\n            const expandSection = currentData.filter((sectionData: any) => {\r\n                return sectionData.requestID === title\r\n            })\r\n            setCurrentData(expandSection);\r\n        } else {\r\n            setCurrentData(data);\r\n        }\r\n\r\n        setExpand(expand)\r\n    }\r\n\r\n    return (\r\n        <>\r\n           {currentData.map((sectionData: any) => {\r\n               return <Section \r\n                            key={sectionData.requestID} \r\n                            title={sectionData.requestID} \r\n                            data={sectionData.data} \r\n                            handleExpandSection={setExpandSection}\r\n                        />\r\n           })} \r\n        </>\r\n    )\r\n};\r\n\r\nexport default withAppDataContainerHOC({ services: servicesArr })(Overview);"],"sourceRoot":""}