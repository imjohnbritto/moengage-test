(this["webpackJsonpmoengage-test"]=this["webpackJsonpmoengage-test"]||[]).push([[4],{113:function(e,t,a){},114:function(e,t,a){},52:function(e,t,a){"use strict";a.r(t);var l=a(81),n=a(0),r=a(14),i=a(9),c=a(15),d=a(16),o=a(18),s=a(17),u=a(82),v=a.n(u),j=a(1),b=function(e){var t=e.services;return function(e){return function(a){Object(o.a)(n,a);var l=Object(s.a)(n);function n(){var e;Object(c.a)(this,n);for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return(e=l.call.apply(l,[this].concat(a))).state={data:[]},e.result=[],e}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=this,a=[];Array.isArray(t)&&t.map((function(e){a.push(fetch("".concat("http://13.232.99.42").concat(e.uri),{mode:"cors"}).then((function(e){return e.json()})))})),Promise.all(a).then((function(a){a.forEach((function(a,l){e.result.push({data:a,requestID:t[l].requestID}),e.setState({data:e.result})}))})),v()("wss://13.232.99.42",{path:"/js/socket.io.min.js",transports:["polling"]}).on("ALL",(function(t){return e.setResponse(t)}))}},{key:"setResponse",value:function(e){console.log(e)}},{key:"handleData",value:function(e){var t=JSON.parse(e);console.log(t)}},{key:"render",value:function(){return Object(j.jsx)(e,Object(i.a)({},this.state))}}]),n}(n.Component)}};a(113);var h=function(e){var t={height:"100%",width:"".concat(e.completed,"%"),backgroundColor:"#45b0e6",borderRadius:"inherit",textAlign:"right"};return Object(j.jsxs)("div",{className:"Progressbar-wrapper",children:[Object(j.jsxs)("div",{className:"Progressbar-title",children:[Object(j.jsx)("p",{children:e.title}),Object(j.jsxs)("p",{children:[e.completed,"%"]})]}),Object(j.jsx)("div",{style:{height:5,width:"100%",backgroundColor:"#0f3d77",borderRadius:50},children:Object(j.jsx)("div",{style:t})})]})};var O=function(e){var t,a,l,n,r,i,c,d,o,s,u,v;return Object(j.jsxs)("div",{className:"StatsWidget-wrapper",children:[Object(j.jsx)("h3",{children:"Stats"}),Object(j.jsx)(h,{title:null===e||void 0===e||null===(t=e.data)||void 0===t||null===(a=t.ATTRIBUTE_1)||void 0===a?void 0:a.label,completed:null===e||void 0===e||null===(l=e.data)||void 0===l||null===(n=l.ATTRIBUTE_1)||void 0===n?void 0:n.value}),Object(j.jsx)(h,{title:null===e||void 0===e||null===(r=e.data)||void 0===r||null===(i=r.ATTRIBUTE_2)||void 0===i?void 0:i.label,completed:null===e||void 0===e||null===(c=e.data)||void 0===c||null===(d=c.ATTRIBUTE_2)||void 0===d?void 0:d.value}),Object(j.jsx)(h,{title:null===e||void 0===e||null===(o=e.data)||void 0===o||null===(s=o.ATTRIBUTE_3)||void 0===s?void 0:s.label,completed:null===e||void 0===e||null===(u=e.data)||void 0===u||null===(v=u.ATTRIBUTE_3)||void 0===v?void 0:v.value}),Object(j.jsx)("div",{className:"StatsWidget-viewURL",children:Object(j.jsxs)("a",{href:e.apiURL,target:"_blank",rel:"noreferrer",children:[Object(j.jsx)("span",{children:"View API"}),Object(j.jsx)("span",{className:"fa fa-arrow-right fa-lg"})]})})]})};var f=function(e){var t,a,l,n,r,i;return Object(j.jsxs)("div",{className:"ChartWidget-wrapper",children:[Object(j.jsxs)("div",{className:"ChartWidget-header",children:[Object(j.jsxs)("p",{className:"ChartWidget-header-title blue",children:[null===e||void 0===e||null===(t=e.data)||void 0===t||null===(a=t.filter)||void 0===a?void 0:a.label," "]}),Object(j.jsxs)("p",{className:"ChartWidget-header-title green",children:[null===e||void 0===e||null===(l=e.data)||void 0===l||null===(n=l.filter)||void 0===n?void 0:n.value,"%"]})]}),Object(j.jsx)("div",{className:"ChartWidget-table",children:Object(j.jsxs)("table",{children:[Object(j.jsx)("thead",{children:Object(j.jsx)("tr",{children:null===e||void 0===e||null===(r=e.data)||void 0===r?void 0:r.dataSet.header.map((function(e,t){return Object(j.jsxs)("th",{children:[" ",e]},"header"+e)}))})}),Object(j.jsx)("tbody",{children:null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.dataSet.data.map((function(e){return Object(j.jsxs)("tr",{style:{color:e.color},children:[Object(j.jsxs)("td",{children:[" ",e.label]}),Object(j.jsxs)("td",{children:[" ",e.value]})]},"tbody"+e.label)}))})]})})]})},p=(a(114),{WeekDay:["SUN","MON","TUE","WED","THU","FRI","SAT"],Month:["January","February","March","April","May","June","July","August","September","October","November","December"]});var x=function(e){var t=e.data.data,a=Object(n.useState)(t),r=Object(l.a)(a,2),c=r[0],d=r[1],o=Object(n.useState)(!1),s=Object(l.a)(o,2),u=s[0],v=s[1];Object(n.useEffect)((function(){b("label")}),[]);var b=function(e){var t=null===c||void 0===c?void 0:c.dataSet.data;"value"===e?t.sort((function(t,a){return t[e]-a[e]})):t.sort((function(t,a){var l=t[e],n=a[e];return"Country"===(null===c||void 0===c?void 0:c.dataSet.header[0])?l.localeCompare(n.localeCompare):p[null===c||void 0===c?void 0:c.dataSet.header[0]].indexOf(l)>p[null===c||void 0===c?void 0:c.dataSet.header[0]].indexOf(n)?1:-1})),d(Object(i.a)(Object(i.a)({},c),{},{dataSet:Object(i.a)(Object(i.a)({},null===c||void 0===c?void 0:c.dataSet),{},{data:t})}))};return Object(j.jsxs)("div",{className:u?"Widget-wrapper max":"Widget-wrapper",children:[Object(j.jsxs)("header",{children:[Object(j.jsx)("h3",{children:null===e||void 0===e?void 0:e.title}),Object(j.jsxs)("select",{name:"sort-option",onChange:function(e){return b(e.target.value)},defaultValue:"Sort by Label",className:"Widget-sort",children:[Object(j.jsx)("option",{value:"label",children:"Sort by Label"}),Object(j.jsx)("option",{value:"value",children:"Sort by Value"})]}),Object(j.jsx)("div",{onClick:function(){return t=null===e||void 0===e?void 0:e.title,v(!u),void e.handleExpandSection(t,!u);var t},children:Object(j.jsx)("i",{className:u?"fa fa-minus":"fa fa-arrows-alt"})})]}),Object(j.jsxs)("div",{className:"Widget-menu",children:[Object(j.jsx)(O,{data:null===c||void 0===c?void 0:c.stats,apiURL:c.url}),Object(j.jsx)(f,{data:c})]})]})};t.default=b({services:r.b})((function(e){var t=e.data,a=Object(n.useState)([]),i=Object(l.a)(a,2),c=i[0],d=i[1],o=Object(n.useState)(!1),s=Object(l.a)(o,2),u=s[0],v=s[1];Object(n.useEffect)((function(){r.b.length===c.length||u||d(t)}));var b=function(e,a){if(a){var l=c.filter((function(t){return t.requestID===e}));d(l)}else d(t);v(a)};return Object(j.jsx)(j.Fragment,{children:c.map((function(e){return Object(j.jsx)(x,{title:e.requestID,data:e.data,handleExpandSection:b},e.requestID)}))})}))}}]);
//# sourceMappingURL=4.7ba2ea68.chunk.js.map